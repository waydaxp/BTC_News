def get_strategy_explanation(signal: str) -> str:
    """
    根据技术信号内容，返回具体策略说明。
    支持多空判断 + 策略风格建议。
    """
    if not signal:
        return "暂无信号数据，建议观望。"

    # 标准处理（剔除空格）
    signal = signal.strip()

    # 做多类信号
    if "强烈短线做多" in signal or "突破爆发" in signal:
        return (
            "📈 策略类型：激进型做多（突破爆发）\n"
            "🧠 判断依据：RSI 强势 + MACD 金叉 + 放量确认\n"
            "📊 仓位控制：最多不超过总资金的30%，需快速止盈止损。\n"
            "🛑 止损策略：入场价下方 1.5 倍 ATR\n"
            "🎯 止盈策略：入场价上方 2～2.5 倍 ATR 或出现 RSI 顶背离"
        )

    elif "底部反转" in signal:
        return (
            "📈 策略类型：平衡型做多（底部博反弹）\n"
            "🧠 判断依据：RSI 超跌反弹 + MA20 重新站上\n"
            "📊 仓位控制：初始不超过20%，根据形态演化加仓\n"
            "🛑 止损策略：前低下方或 1.5 倍 ATR\n"
            "🎯 止盈策略：压力位前止盈，或 RSI 高位回落信号"
        )

    elif "做多" in signal:
        return (
            "📈 策略类型：保守型做多（趋势跟随）\n"
            "🧠 判断依据：RSI > 50，价格在 MA20 之上\n"
            "📊 仓位控制：小仓位试多（10%-15%），观察量能与形态\n"
            "🛑 止损策略：MA20 或短期支撑位下方设止损\n"
            "🎯 止盈策略：当前价格上方 2 倍 ATR 或压力位"
        )

    # 做空类信号
    elif "顶部反转" in signal:
        return (
            "📉 策略类型：平衡型做空（顶部回落）\n"
            "🧠 判断依据：RSI 高位钝化 + 跌破 MA20\n"
            "📊 仓位控制：控制在15%-20%，等待反弹补空\n"
            "🛑 止损策略：反弹高点或 1.5 倍 ATR\n"
            "🎯 止盈策略：支撑位前止盈，或 RSI 超卖信号"
        )

    elif "做空" in signal:
        return (
            "📉 策略类型：保守型做空（趋势跟随）\n"
            "🧠 判断依据：RSI < 50，价格在 MA20 之下\n"
            "📊 仓位控制：小仓位试空（10%-15%），结合量能验证\n"
            "🛑 止损策略：前高或 MA20 上方\n"
            "🎯 止盈策略：当前价格下方 2 倍 ATR 或支撑位"
        )

    # 中性 / 无操作
    elif "震荡" in signal or "中性" in signal:
        return (
            "⏸ 策略类型：观望型 / 区间震荡\n"
            "🧠 判断依据：价格围绕 MA20 波动，指标未明显背离\n"
            "📊 仓位控制：避免进场，等待明确趋势出现\n"
            "🛑 风控建议：不追高杀跌，等待放量突破或跌破关键支撑/阻力"
        )

    # 默认兜底
    else:
        return (
            "⚠️ 无法识别的技术信号。\n"
            "建议回顾最近 3 根 K 线走势、RSI/MACD 状态、成交量变化后再做判断。\n"
            "📊 风控建议：保持仓位谨慎，确认信号再入场。"
        )
